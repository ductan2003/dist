{"version":3,"file":"js/598.3ce6b2de.js","mappings":"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","sources":["webpack://web_se/./src/views/ProfileView.vue","webpack://web_se/./src/views/ProfileView.vue?3e49"],"sourcesContent":["<template>\r\n\r\n  <div class=\"container\">\r\n    <div class=\"heading-page\">\r\n      <p class=\"heading-page-content\">Welcome, {{this.firstName}}</p>\r\n    </div>\r\n\r\n    <div class=\"body\">\r\n      <div class=\"avatar\">\r\n        <img v-if=\"!this.avatar\" src=\"@/assets/person3.jpg\" alt=\"ava\">\r\n        <img v-if=\"this.avatar\" :src='\"http://localhost:8019/admin/exams/file/\" + this.avatar' alt=\"ava\">\r\n        <div class=\"button\">\r\n         <input @change=\"handleFileImg()\" ref=\"fileImg\" type=\"file\" name=\"file\" id=\"file\" />\r\n         <button type=\"submit\" v-on:click=\"handleButtonClick\">Change your avatar</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"infoContainer\">\r\n      <div class=\"info\">\r\n        <div class=\"cardInfo\">\r\n          <p>First name:</p>\r\n          <div class=\"box\">\r\n            <input v-model=\"firstName\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"cardInfo\">\r\n          <p>Last name:</p>\r\n          <div class=\"box\">\r\n            <input v-model=\"lastName\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"auth\" class=\"cardInfo\">\r\n          <p>Password:</p>\r\n          <div class=\"box\">\r\n            <input v-model=\"password\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"auth\" class=\"cardInfo\">\r\n          <p>New Password:</p>\r\n          <div class=\"box\">\r\n            <input v-model=\"newPassword\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"auth\" class=\"cardInfo\">\r\n          <p>Confirm Password:</p>\r\n          <div class=\"box\">\r\n            <input v-model=\"confirmPassword\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n        <div class=\"button\">\r\n        <button type=\"button\" class=\"saveButton\" v-on:click=\"saveUserInfo\">Save</button>\r\n        <button v-if=\"!auth\" type=\"button\" class=\"changeButton\" v-on:click=\"changePass\">Change Password</button>\r\n          <button v-if=\"auth\" type=\"button\" class=\"changeButton\" v-on:click=\"undoChangePass\">Back</button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {toast} from \"vue3-toastify\";\r\naxios.defaults.headers.common[ \"Authorization\"] = `Bearer ` + localStorage.getItem(\"token\");\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: null,\r\n      fileImg: null,\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      password: \"\",\r\n      newPassword: \"\",\r\n      confirmPassword: \"\",\r\n      auth: false,\r\n      avatar: null,\r\n    }\r\n  },\r\n  methods: {\r\n    handleFileImg(){\r\n      this.avatar = this.$refs.fileImg.files[0];\r\n      // this.avatar = this.fileImg;\r\n      // console.log(this.fileImg);\r\n      this.changeAvatar();\r\n    },\r\n    handleButtonClick(){\r\n      this.$refs.fileImg.click();\r\n      // this.changeAvatar();\r\n    },\r\n    saveUserInfo() {\r\n\r\n    },\r\n    async getUser() {\r\n      if (localStorage.getItem(\"token\")) {\r\n        axios.defaults.headers.common[ \"Authorization\"] = `Bearer ` + localStorage.getItem(\"token\");\r\n        const response = await axios.get(\"http://localhost:8019/api/auth/profile\");\r\n        this.user = response.data;\r\n        console.log(this.user);\r\n      }\r\n    },\r\n    async getUserInfo() {\r\n      await this.getUser();\r\n      const response = await axios.get(\"http://localhost:8019/account/\" + this.user.username);\r\n      this.firstName = response.data.firstName;\r\n      this.lastName = response.data.lastName;\r\n      this.avatar = response.data.profileImage;\r\n      console.log(this.avatar)\r\n    },\r\n    changePass() {\r\n      this.auth = true;\r\n    },\r\n    undoChangePass() {\r\n      this.auth = false;\r\n    },\r\n    async changeAvatar(){\r\n      console.log(this.avatar)\r\n      await axios.put(\"http://localhost:8019/account/updateProfileImage/\" + this.user.username,{\r\n            image: this.avatar\r\n          },  {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data; boundary=${data._boundary}'\r\n            }\r\n          }\r\n      ).then((response) => {\r\n        console.log(response.data);\r\n        // toast.success(\"Saved successfully\", { position: toast.POSITION.BOTTOM_RIGHT }), {\r\n        //   autoClose: 1000,\r\n        // }\r\n        // this.$router.push({ path: \"/profile/\" + this.user.username });\r\n        window. location. reload();\r\n        // this.getUserInfo();\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        toast.error(\"Saved failed\", { position: toast.POSITION.BOTTOM_RIGHT }), {\r\n          autoClose: 1000,\r\n        }\r\n        if (error.response) {\r\n          // The server responded with an error status code\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n        } else if (error.request) {\r\n          // The request was made but no response was received\r\n          console.log(error.request);\r\n        } else {\r\n          // Something happened in setting up the request that triggered an Error\r\n          console.log('Error', error.message);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserInfo();\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  gap: 30px;\r\n  padding-bottom: 20px;\r\n}\r\n.heading-page {\r\n  position: relative;\r\n  top: 15px;\r\n  height: auto;\r\n  align-items: center;\r\n  justify-content: center;\r\n  /*padding-bottom: 0px;*/\r\n\r\n  font-family: \"Inter\";\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  font-size: 64px;\r\n  line-height: 75px;\r\n\r\n  color: #4caf4f;\r\n}\r\n.body{\r\n  display: flex;\r\n  flex-direction: row;\r\n  /*margin-left: 10%;*/\r\n  margin-top: 5%;\r\n  gap: 80px;\r\n  justify-content: center;\r\n\r\n}\r\n.avatar{\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  align-items: center;\r\n}\r\n.avatar img{\r\n  width: 200px;\r\n  height: 200px;\r\n  border-radius: 100%;\r\n}\r\n.avatar button{\r\n  border-radius: 6px;\r\n  font-family: 'Inter';\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  line-height: 20px;\r\n  /* identical to box height, or 143% */\r\n  color: #000000;\r\n  border: none;\r\n\r\n  width: 150px;\r\n  height: 30px;\r\n  justify-content: center;\r\n  background: #D9D9D9;\r\n}\r\ninput[type=\"file\"] {\r\n  display: none;\r\n}\r\n.info{\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: fit-content;\r\n  gap: 15px;\r\n  align-items: flex-end;\r\n}\r\n.cardInfo{\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n.cardInfo p{\r\n  font-family: 'Inter';\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 28px;\r\n  margin-bottom: 0px;\r\n  width: fit-content;\r\n}\r\n.box input{\r\n  background: transparent;\r\n  flex: 1;\r\n  border: 0;\r\n  outline: none;\r\n  padding: 2% 3%;\r\n  font-family: 'Inter';\r\n}\r\n.box {\r\n  box-sizing: border-box;\r\n  height: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px 10px;\r\n  background: #D9DBE1;\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  border-radius: 30px;\r\n}\r\n.saveButton{\r\n  color: white;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  width: 80px;\r\n  height: 40px;\r\n\r\n  background: #0d6efd;\r\n  border-radius: 30px;\r\n  text-align: center;\r\n\r\n  text-decoration: none;\r\n  font-family: \"Inter\";\r\n  border-width: 0px;\r\n  align-items: center;\r\n}\r\n.infoContainer{\r\n  gap: 25px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.changeButton{\r\n  color: white;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  width: 170px;\r\n  height: 40px;\r\n\r\n  background: #4CAF4F;\r\n  border-radius: 30px;\r\n  text-align: center;\r\n\r\n  text-decoration: none;\r\n  font-family: \"Inter\";\r\n  border-width: 0px;\r\n  align-items: center;\r\n}\r\n.button {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  align-items: center;\r\n}\r\n\r\n</style>","import { render } from \"./ProfileView.vue?vue&type=template&id=26bf8339&scoped=true\"\nimport script from \"./ProfileView.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileView.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileView.vue?vue&type=style&index=0&id=26bf8339&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\uetStorage\\\\learned\\\\SE\\\\SOSE_English_Website\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26bf8339\"]])\n\nexport default __exports__"],"names":["class","src","_imports_0","alt","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","firstName","_hoisted_4","_hoisted_5","avatar","_hoisted_6","_hoisted_8","onChange","_cache","$event","$options","handleFileImg","ref","type","name","id","onClick","args","handleButtonClick","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","$data","_hoisted_14","_hoisted_15","_hoisted_16","lastName","auth","_hoisted_17","_hoisted_18","_hoisted_19","password","_hoisted_20","_hoisted_21","_hoisted_22","newPassword","_hoisted_23","_hoisted_24","_hoisted_25","confirmPassword","_hoisted_26","saveUserInfo","changePass","undoChangePass","axios","localStorage","getItem","data","user","fileImg","methods","this","$refs","files","changeAvatar","click","async","response","console","log","getUser","username","profileImage","image","headers","then","window","location","reload","catch","error","toast","position","status","request","message","created","getUserInfo","__exports__","render"],"sourceRoot":""}